This wiki page details the REST services exposed by Pre-Registration.

## 1. Save Pre-Registration Request
This service details used by Pre-Registration portal to save the demographic form by providing his/her basic demographic details. 

### Resource URL -  
`POST /v0.1/pre-registration/registration/applications`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No

### Sample Request
```JSON
{
	"applications": [
		{
			"groupId": "",
			"preRegistrationId": "",
			"name": {
				"firstname": "XYZ",
				"lastname": "ABC",
				"fullname": "XYZ ABC"
			},
			"age": 25,
			"dob": "1993-03-18T09:16:50.263Z",
			"genderCode": "male",
			"address": {
				"addrLine1": "Global village",
				"addrLine2": "mindtree",
				"addrLine3": "P2",
				"locationCode": "G1234"
			},
			"applicantType": "ADULT",
			"contact": {
				"email": "xyz@mail.com",
				"mobile": "921714816"
			},
			"createdBy": "921714816",
			"isActive": true,
			"isDeleted": true,
			"isPrimary": false,
			"langCode": "",
			"nationalid": "",
			"parentFullName": "",
			"parentRefId": "",
			"parentRefIdType": "",
			"statusCode": "Draft",
			"updatedBy": "",
			"userId":"921714816"
		}
  	]
}
```
### Sample Response
#### Success Response :

Status Code : 200(OK)
```JSON
{
    "prId": "59276903416082",
    "groupId": "936857697491",
    "isPrimary": false,
    "createdBy": "921714816",
    "createDateTime": "2018-10-26T07:04:10.844+0000",
    "updatedBy": "921714816",
    "updateDateTime": "2018-10-26T07:04:10.844+0000"
  }
```
#### Fail Response:
Status Code : 500(Error)

```JSON
{
  "timestamp": "2018-10-26T07:05:37.273+0000",
  "status": 500,
  "error": "Internal Server Error",
  "message": "hibernate exception",
  "path": "/v0.1/pre-registration/registration/applications"
}
```

## 2. Reterive all Pre-Registration Request
This service enables Pre-Registration portal to request for all pre-registration applications created by logged-in user. 

### Resource URL - 
`GET /v0.1/pre-registration/registration/applications`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
User ID | Y | Mobile Number/ Email Address| | 9911836586/ user@mail.com


### Sample Request

##### Request Param
```String
9217148168
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
    "upd_dtimesz": "2018-10-26 07:04:10.996",
    "group_id": "936857697491",
    "status_code": "Draft",
    "firstname": "XYZ",
    "noOfRecords": 1
  }
```

## 3. Reterive all Pre-Registration status
This service enables Pre-Registration portal to request to reterive all pre-registration ids and corresponding status based on group id.

### Resource URL - 
`GET /v0.1/pre-registration/registration/applicationStatus`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
Group ID | Y | ID for group of application | | 936857697491


### Sample Request
##### Request Param
```String
936857697491
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
  "59276903416082": "Draft"
}
```
## 4. Discard Pre-Registration
This service enables Pre-Registration portal to request to discard pre-registration based on group id and pre-registration id. 

### Resource URL - 
`DELETE /v0.1/pre-registration/registration/applications`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No

### Parameters
Name | Required | Description | Default Value | Example
--------|----------|-------------|---------------|--------
Group ID | Y | ID for group of application | | 936857697491
Pre-Registration ID | Y | ID for application | | 59276903416082


### Sample Request
##### Request Param
######Group ID:
```String 
936857697491
```
######Pre-Registration ID:
```String
59276903416082
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
    "prId": "59276903416082",
    "groupId": "936857697491",
    "isPrimary": null,
    "createdBy": "921714816",
    "createDateTime": "2018-10-26T07:04:10.996+0000",
    "updatedBy": "921714816",
    "updateDateTime": "2018-10-26T07:04:10.996+0000"
  }
```
## 5. Document Upload
This service enables Pre-Registration portal to request for uploading the document for a perticular pre-registration. 

### Resource URL - 
`DELETE /v0.1/pre-registration/registration/documents`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No


### Sample Request
##### Request Body
```JSON 
	{
 		 "prereg_id" : "59276903416082",
 		 "group_id" : "936857697491",
  		"doc_cat_code" : "POA",
  		"doc_typ_code" : "address",
  		"doc_file_format" : "pdf",
 		 "status_code" : "Draft",
 		 "lang_code" : "ENG",
 		 "cr_by" : "9217148168",
 		 "upd_by" : "9217148168",
 		 "_primary" : true
}
```
######File:
```String
Choose file (.pdf)
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
    "DOCUMENT_UPLOADED_TO_DATABASE"
 }
```
#### Failure Response:
Status Code : 400 (ERROR)
```JSON
{
  "message": "DOCUMENT_INVALID_FORMAT",
  "errorcode": "PRG_PAM_004"
}
```
#### Failure Response:
Status Code : 400 (ERROR)
```JSON
{
  "message": "DOCUMENT_EXCEDING_PERMITTED_SIZE",
  "errorcode": "PRG_PAM_007"
}
```