This section details about the UI service APIs in the Pre-Registration modules

[2.7.1 Login API](https://github.com/mosip/mosip/wiki/2.7-Pre-Registration-UI-APIs#271-holiday-master-api)

[2.7.2 OTP Validation API](https://github.com/mosip/mosip/wiki/2.7-Pre-Registration-UI-APIs#272-blacklisted-words-master-api)

[2.7.3 User ID Updation API](https://github.com/mosip/mosip/wiki/2.7-Pre-Registration-UI-APIs#273-documents-category-master-api)

##2.7.1. Login API
This service details Login Request to be used by Pre-Registration portal to authenticate an user by providing his/her mobile number or email address. 
After validating the mobile number/email address an OTP get generated and same get notified to the user correspondingly. 

### Resource URL -  `GET pre-registration/login`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | Yes

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
id|Y|API Id||mosip.pre-registration.auth
ver|Y|API version||1.0
reqTime|Y|Time when Request was captured||2018-10-04T05:57:20.929+0000
request|Y|Request to be authenticated||
request.user-id | Y | Mobile Number/ Email Address| | 9911836586/ user@mail.com


### Sample Request
```JSON
{
		"id": "mosip.pre-registration.auth",
		"ver" : "1.0",
		"reqTime" : "2018-10-17T07:22:57.086+0000",
		"request" :
		{
			"user-id":"9911836586"
		}
}
```
### Sample Response
#### Success Response :
```JSON
{
		"status" : true,
		"err": [],
		"resTime": "2018-10-17T13:40:19.590+0000",
		"message":
		{
			"resMsg": "USER_OTP_GENERATED"
		}
}
```
#### Fail Response:
```JSON
{
	"status" : false,
	"err": [
           {
				"code":"PRG-AUTH-LOGIN-001",
				"message": "USER_OTP_GENERATION_FAILED"
           }
        ]
	"resTime": "2018-10-17T13:40:19.590+0000"
}
```

##2.7.2 OTP Validation API
This service enables Pre-Registration portal to request for an OTP for validation. Once the OTP received via message or email. This OTP should then be used to authenticate an user.

### Resource URL - `POST pre-registration/login/{user-id}`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | Yes

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
id|Y|API Id||mosip.pre-registration.auth
ver|Y|API version||1.0
reqTime|Y|Time when Request was captured||2018-10-04T05:57:20.929+0000
request|Y|Request to be authenticated||
request.user-otp | Y | OTP| | 212132


### Sample Request
##### Request Body
```JSON
{
		"id": "mosip.pre-registration.auth",
		"ver" : "1.0",
		"reqTime" : "2018-10-17T07:22:57.086+0000",
		"request" :
		{
			"user-otp":"212132"
		}
}
```
##### Request Param
```String
9911836586
```
### Sample Response
#### Success Response:
```JSON
{
		"status" : true,
		"err": [],
		"resTime": "2018-10-17T13:40:19.590+0000",
		"message":
		{
			"resMsg": "OTP_VALIDATION_SUCESSFUL"
		}
}
```

#### Failed Response :
```JSON
{
		"status" : false,
		"err": [
		{
			"code":"PRG-AUTH-LOGIN-002",
			"message": "USER_ID_INVALID"
		}
		],
		"resTime": "2018-10-17T13:40:19.590+0000"
}
```

## 2.7.3 User ID Updation API
This service enables Pre-Registration portal to request for an new user id for updation. Once new user id revceived an OTP get generated and send via message or email accordingly. This OTP should then be used to authenticate by user, once the OTP validation get successful then an old user id get updated to new user id.

### Resource URL - `PUT pre-registration/user/{user-id}`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | Yes

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
id|Y|API Id||mosip.pre-registration.auth
ver|Y|API version||1.0
reqTime|Y|Time when Request was captured||2018-10-04T05:57:20.929+0000
request|Y|Request to be authenticated||
request.new-user-id | Y | Mobile Number/ Email Address| | 9911836586/ user@mail.com


### Sample Request
##### Request Body
```JSON
{
		"id": "mosip.pre-registration.auth",
		"ver" : "1.0",
		"reqTime" : "2018-10-17T07:22:57.086+0000",
		"request" :
		{
			"new-user-id":"user@mail.com"
		}
}
```
##### Request Param
```String
9911836586
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
		"status" : true,
		"err": [],
		"resTime": "2018-10-17T13:40:19.590+0000",
		"message":
		{
			"resMsg": "USER_UPDATION_SUCCESSFUL"
		}
}
```

#### Failed Response :   
Status Code : 500 (Error)
```JSON
{
		"status" : false,
		"err": [
		{
			"code":"PRG-AUTH-UPDATE-001",
			"message": "USER_UPDATION_FAILED"
		}
		],
		"resTime": "2018-10-17T13:40:19.590+0000"
}
```
