This wiki page details the REST services exposed by Pre-Registration UI.

## 1. Login Request
This service details Login Request to be used by Pre-Registration portal to authenticate an user by providing his/her mobile number or email address. 
After validating the mobile number/email address an OTP get generated and same get notified to the user correspondingly. 

### Resource URL -  `GET pre-registration/login`

### Resource details

Resource Details | Description
------------ | -------------
Response format | String
Requires Authentication | No

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
id | Y | Mobile Number/ Email Address| | 9911836586/ user@mail.com


### Sample Request
```String
9911836586
```
### Sample Response
#### Success Response :

Status Code : 200(OK)

```JSON
{
	"ok": "USER_OTP_GENERATED"
}
```
#### Fail Response:

Status Code : 500(Error)

```JSON
{
	"status" : false,
	"err": [
           {
              "message": "USER_OTP_GENERATION_FAILED"
           }
        ]
}
```

## 2. OTP Validation
This service enables Pre-Registration portal to request for an OTP for validation. Once the OTP received via message or email. This OTP should then be used to authenticate an user.

### Resource URL - `POST pre-registration/login`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
id | Y | Mobile Number/ Email Address| | 9911836586/ user@mail.com


### Sample Request
##### Request Body
```JSON
{
  "21332132131"
}
```
##### Request Param
```String
9911836586
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
  "ok": "OTP_VALIDATION_SUCESSFUL"
}
```

#### Failed Response :   
Status Code : 500 (Error)
```JSON
{
  "timestamp": "2018-10-24T11:15:43.344+0000",
  "status": 500,
  "error": "Internal Server Error",
  "message": "REG-AUTH-LOGIN001- --> USER_ID_INVALID",
  "path": "/v0.1/pre-registration/login"
}
```

## 3. User ID Updation
This service enables Pre-Registration portal to request for an new user id for updation. Once new user id revceived an OTP get generated and send via message or email accordingly. This OTP should then be used to authenticate by user once it successful then an old user id get updated to new user id.

### Resource URL - `PUT pre-registration/user`

### Resource details

Resource Details | Description
------------ | -------------
Response format | JSON
Requires Authentication | No

### Parameters
Name | Required | Description | Default Value | Example
-----|----------|-------------|---------------|--------
id | Y | Mobile Number/ Email Address| | 9911836586/ user@mail.com


### Sample Request
##### Request Body
```JSON
{
  "userName":"user@mail.com"
}
```
##### Request Param
```String
9911836586
```
### Sample Response
#### Success Response:
Status Code : 200 (OK)
```JSON
{
  "ok": "USER_UPDATED"
}
```

#### Failed Response :   
Status Code : 500 (Error)
```JSON
{
  "error": "USER_UPDATION_FAILED"
}
```
